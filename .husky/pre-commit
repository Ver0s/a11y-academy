#!/usr/bin/env sh

echo "ğŸ”§ Running pre-commit checks..."

# Check if any files in src/content/ are staged for commit
if git diff --cached --name-only | grep -q "^src/content/"; then
  echo "ğŸ“ Content files changed, validating content structure..."
  npm run validate-content || exit 1
else
  echo "ğŸ“ No content changes detected, skipping content validation"
fi

# Run your existing check-all script on staged files
echo "ğŸ”§ Running code quality checks..."
npm run check-all || exit 1

echo "âœ… Pre-commit checks completed!"